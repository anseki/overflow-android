var OverflowAndroid=function(){"use strict";function t(r){var s,f,u=this;u.elmView=r,t.enable&&Array.prototype.some.call(u.elmView.childNodes,function(t){return 1===t.nodeType?(u.elmContent=t,!0):void 0})&&("static"===window.getComputedStyle(u.elmView,"").position&&(u.elmView.style.position="relative"),u.elmView.style.overflow="hidden",u.elmContent.style.position="absolute",n=e(u.elmView,"cursor",n?[n]:a),Object.defineProperty(u.elmView,"scrollLeft",{get:function(){return u.scrollLeft()},set:function(t){u.scrollLeft(t)}}),Object.defineProperty(u.elmView,"scrollTop",{get:function(){return u.scrollTop()},set:function(t){u.scrollTop(t)}}),["scrollValue","scrollMax","positionMin","positionMax","positionOffset"].forEach(function(t){u[t]={}}),u.enable=!0,u.initSize(),u.scrollLeft(0),u.scrollTop(0),p.push(u),u.hammer=new Hammer.Manager(u.elmView,{recognizers:[[Hammer.Pan,{threshold:3}]]}).on("panstart",function(t){u.timer&&(window.clearInterval(u.timer),delete u.timer),s={clientX:t.pointers[0].clientX,clientY:t.pointers[0].clientY},f={left:u.scrollValue.left,top:u.scrollValue.top},u.elmView.style.cursor="",l=e(document.body,"cursor",l?[l]:c),t.preventDefault()}).on("panmove",function(t){i(u,"left",f.left+s.clientX-t.pointers[0].clientX),i(u,"top",f.top+s.clientY-t.pointers[0].clientY),u.inertia={x:{velocity:t.velocityX},y:{velocity:t.velocityY}},t.preventDefault()}).on("panend",function(i){var l,r=u.inertia;n=e(u.elmView,"cursor",n?[n]:a),document.body.style.cursor="",r.x.direction=r.x.velocity>0?1:-1,r.x.velocity=Math.abs(r.x.velocity),r.y.direction=r.y.velocity>0?1:-1,r.y.velocity=Math.abs(r.y.velocity),r.x.velocity&&r.y.velocity?(l=Math.atan2(r.y.velocity,r.x.velocity),r.x.friction=Math.cos(l)*t.friction,r.y.friction=Math.sin(l)*t.friction):(r.x.friction=r.x.velocity?t.friction:0,r.y.friction=r.y.velocity?t.friction:0),r.intervalTime=(new Date).getTime(),u.timer=window.setInterval(function(){o(u)},1e3/t.fps),i.preventDefault()}))}function e(t,e,i){var o;return i.some(function(i){return t.style[e]=i,t.style[e]===i?(o=i,!0):void 0}),o}function i(t,e,i){return t.enable?("number"==typeof i&&(0>i?i=0:i>t.scrollMax[e]&&(i=t.scrollMax[e]),i!==t.scrollValue[e]&&(t.elmContent.style[e]=t.positionMax[e]-(t.scrollValue[e]=i)-t.positionOffset[e]+"px")),t.scrollValue[e]):void 0}function o(t){function e(e,n){var r,s,a=o[e];a.velocity&&(r=t.scrollValue[n]+a.velocity*a.direction*l,s=i(t,n,r),a.velocity-=a.friction*l,(r!==s||a.velocity<a.friction)&&(a.velocity=0))}var o=t.inertia,n=(new Date).getTime(),l=n-o.intervalTime;return e("x","left"),e("y","top"),o.intervalTime=n,0===o.x.velocity&&0===o.y.velocity&&(window.clearInterval(t.timer),delete t.timer),t}var n,l,r=60,s=.001,a=["grab","-moz-grab","-webkit-grab","-o-grab","-ms-grab","move"],c=["grabbing","-moz-grabbing","-webkit-grabbing","-o-grabbing","-ms-grabbing","crosshair"],p=[];return t.prototype.initSize=function(){var t=this.elmView.clientWidth,e=this.elmView.clientHeight,i=window.getComputedStyle(this.elmView,""),o=this.elmContent.offsetWidth,n=this.elmContent.offsetHeight,l=window.getComputedStyle(this.elmContent,"");return this.enable?(this.positionMin.left=t-o-parseFloat(i.paddingRight)-parseFloat(l.marginRight),this.positionMax.left=parseFloat(i.paddingLeft)+(this.positionOffset.left=parseFloat(l.marginLeft)),this.positionMin.left>this.positionMax.left&&(this.positionMin.left=this.positionMax.left),this.scrollMax.left=this.positionMax.left-this.positionMin.left,this.positionMin.top=e-n-parseFloat(i.paddingBottom)-parseFloat(l.marginBottom),this.positionMax.top=parseFloat(i.paddingTop)+(this.positionOffset.top=parseFloat(l.marginTop)),this.positionMin.top>this.positionMax.top&&(this.positionMin.top=this.positionMax.top),this.scrollMax.top=this.positionMax.top-this.positionMin.top,this):this},t.prototype.scrollLeft=function(t){return i(this,"left",t)},t.prototype.scrollTop=function(t){return i(this,"top",t)},t.enable="ontouchstart"in window,t.fps=r,t.friction=s,window.addEventListener("resize",function(){t.enable&&p.forEach(function(t){t.enable&&(t.initSize(),t.scrollLeft(t.scrollValue.left),t.scrollTop(t.scrollValue.top))})},!1),t}();