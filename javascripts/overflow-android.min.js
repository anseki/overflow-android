var OverflowAndroid=function(){"use strict";function t(r){var s=this;s.elmView=r,t.enable&&Array.prototype.some.call(s.elmView.childNodes,function(t){return 1===t.nodeType?(s.elmContents=t,!0):void 0})&&("static"===window.getComputedStyle(s.elmView,"").position&&(s.elmView.style.position="relative"),s.elmView.style.overflow="hidden",s.elmContents.style.position="absolute",n=e(s.elmView,"cursor",n?[n]:a),Object.defineProperty(s.elmView,"scrollLeft",{get:function(){return s.scrollLeft()},set:function(t){s.scrollLeft(t)}}),Object.defineProperty(s.elmView,"scrollTop",{get:function(){return s.scrollTop()},set:function(t){s.scrollTop(t)}}),["scrollValue","scrollMax","positionMin","positionMax","positionOffset"].forEach(function(t){s[t]={}}),s.enable=!0,s.initSize(),s.scrollLeft(0),s.scrollTop(0),p.push(s),s.hammer=new Hammer.Manager(s.elmView,{recognizers:[[Hammer.Pan,{threshold:3}]]}).on("panstart",function(t){s.timer&&(window.clearInterval(s.timer),delete s.timer),s.startPoint={clientX:t.pointers[0].clientX,clientY:t.pointers[0].clientY},s.startScroll={left:s.scrollValue.left,top:s.scrollValue.top},s.elmView.style.cursor="",l=e(document.body,"cursor",l?[l]:c),t.preventDefault()}).on("panmove",function(t){i(s,"left",s.startScroll.left+s.startPoint.clientX-t.pointers[0].clientX),i(s,"top",s.startScroll.top+s.startPoint.clientY-t.pointers[0].clientY),s.inertia={x:{velocity:Math.abs(t.velocityX),direction:t.velocityX>0?1:-1},y:{velocity:Math.abs(t.velocityY),direction:t.velocityY>0?1:-1}},t.preventDefault()}).on("panend",function(i){var l,r,c=s.inertia;n=e(s.elmView,"cursor",n?[n]:a),document.body.style.cursor="",c.x.velocity===c.y.velocity?c.x.friction=c.y.friction=t.friction:(c.x.velocity>c.y.velocity?(l=c.x,r=c.y):(l=c.y,r=c.x),l.friction=t.friction,r.friction=r.velocity/l.velocity*t.friction),c.intervalTime=(new Date).getTime(),s.timer=window.setInterval(function(){o(s)},1e3/t.fps),i.preventDefault()}))}function e(t,e,i){var o;return i.some(function(i){return t.style[e]=i,t.style[e]===i?(o=i,!0):void 0}),o}function i(t,e,i){return t.enable?("number"==typeof i&&(0>i?i=0:i>t.scrollMax[e]&&(i=t.scrollMax[e]),i!==t.scrollValue[e]&&(t.elmContents.style[e]=t.positionMax[e]-(t.scrollValue[e]=i)-t.positionOffset[e]+"px")),t.scrollValue[e]):void 0}function o(t){function e(e,n){var r,s,a=o[e];a.velocity&&(r=t.scrollValue[n]+a.velocity*a.direction*l,s=i(t,n,r),a.velocity-=a.friction*l,(r!==s||a.velocity<a.friction)&&(a.velocity=0))}var o=t.inertia,n=(new Date).getTime(),l=n-o.intervalTime;return e("x","left"),e("y","top"),o.intervalTime=n,0===o.x.velocity&&0===o.y.velocity&&(window.clearInterval(t.timer),delete t.timer),t}var n,l,r=60,s=.001,a=["grab","-moz-grab","-webkit-grab","-o-grab","-ms-grab","move"],c=["grabbing","-moz-grabbing","-webkit-grabbing","-o-grabbing","-ms-grabbing","crosshair"],p=[];return t.prototype.initSize=function(){var t=this.elmView.clientWidth,e=this.elmView.clientHeight,i=window.getComputedStyle(this.elmView,""),o=this.elmContents.offsetWidth,n=this.elmContents.offsetHeight,l=window.getComputedStyle(this.elmContents,"");return this.enable?(this.positionMin.left=t-o-parseFloat(i.paddingRight)-parseFloat(l.marginRight),this.positionMax.left=parseFloat(i.paddingLeft)+(this.positionOffset.left=parseFloat(l.marginLeft)),this.positionMin.left>this.positionMax.left&&(this.positionMin.left=this.positionMax.left),this.scrollMax.left=this.positionMax.left-this.positionMin.left,this.positionMin.top=e-n-parseFloat(i.paddingBottom)-parseFloat(l.marginBottom),this.positionMax.top=parseFloat(i.paddingTop)+(this.positionOffset.top=parseFloat(l.marginTop)),this.positionMin.top>this.positionMax.top&&(this.positionMin.top=this.positionMax.top),this.scrollMax.top=this.positionMax.top-this.positionMin.top,this):this},t.prototype.scrollLeft=function(t){return i(this,"left",t)},t.prototype.scrollTop=function(t){return i(this,"top",t)},t.enable="ontouchstart"in window,t.fps=r,t.friction=s,window.addEventListener("resize",function(){t.enable&&p.forEach(function(t){t.enable&&(t.initSize(),t.scrollLeft(t.scrollValue.left),t.scrollTop(t.scrollValue.top))})},!1),t}();