var OverflowAndroid=function(t){"use strict";function e(t){var r,y,h,w=this;w.elmView=t,e.enable&&Array.prototype.some.call(w.elmView.childNodes,function(t){return 1===t.nodeType?(w.elmContent=t,!0):void 0})&&(a||(a=(f=u("transform",w.elmView))?o:n),a===o?(w.elmContentY=w.elmView.insertBefore(document.createElement("div"),w.elmContent),w.elmContentY.style.margin=w.elmContentY.style.padding="0",w.elmContentY.appendChild(w.elmContent)):("static"===window.getComputedStyle(w.elmView,"").position&&(w.elmView.style.position="relative"),w.elmContent.style.position="absolute"),c=l,p=s,w.elmView.style.overflow="hidden",m(w.elmView,"cursor","grab","move"),Object.defineProperty(w.elmView,"scrollLeft",{get:function(){return i(w,"left")},set:function(t){i(w,"left",t)}}),Object.defineProperty(w.elmView,"scrollTop",{get:function(){return i(w,"top")},set:function(t){i(w,"top",t)}}),["scrollValue","scrollMax","positionMin","positionMax","positionOffset"].forEach(function(t){w[t]={}}),w.enable=!0,w.initSize(),i(w,"left",0),i(w,"top",0),d.push(w),w.hammer=new Hammer.Manager(w.elmView,{recognizers:[[Hammer.Pan,{threshold:3}]]}).on("panstart",function(t){p(w),r={clientX:t.pointers[0].clientX,clientY:t.pointers[0].clientY},y={left:w.scrollValue.left,top:w.scrollValue.top},w.elmView.style.cursor="",m(document.body,"cursor","grabbing","crosshair"),t.preventDefault()}).on("panmove",function(t){i(w,"left",y.left+r.clientX-t.pointers[0].clientX),i(w,"top",y.top+r.clientY-t.pointers[0].clientY),w.inertia={x:{velocity:t.velocityX},y:{velocity:t.velocityY}},h=t.timeStamp,t.preventDefault()}).on("panend",function(t){var i,o=w.inertia;t.timeStamp-h>v&&(o={x:{velocity:t.velocityX},y:{velocity:t.velocityY}}),m(w.elmView,"cursor","grab","move"),document.body.style.cursor="",o.x.direction=o.x.velocity>0?1:-1,o.x.velocity=Math.abs(o.x.velocity),o.y.direction=o.y.velocity>0?1:-1,o.y.velocity=Math.abs(o.y.velocity),o.x.velocity&&o.y.velocity?(i=Math.atan2(o.y.velocity,o.x.velocity),o.x.friction=Math.cos(i)*e.friction,o.y.friction=Math.sin(i)*e.friction):(o.x.friction=o.x.velocity?e.friction:0,o.y.friction=o.y.velocity?e.friction:0),c(w),t.preventDefault()}))}function i(t,e,i,o){return t.enable?("number"==typeof i?0>i?i=0:i>t.scrollMax[e]&&(i=t.scrollMax[e]):i=t.scrollValue[e],(i!==t.scrollValue[e]||o)&&a(t,e,t.scrollValue[e]=i),t.scrollValue[e]):void 0}function o(t,e,i){var o,n;"left"===e?(o=t.elmContent,n="X"):(o=t.elmContentY,n="Y"),o.style[f]="translate"+n+"("+(t.positionMax[e]-i-t.positionOffset[e])+"px)"}function n(t,e,i){t.elmContent.style[e]=t.positionMax[e]-i-t.positionOffset[e]+"px"}function l(t){t.inertia.intervalTime=(new Date).getTime(),t.timer=window.setInterval(function(){r(t)},1e3/e.fps)}function r(t){var e=t.inertia,o=(new Date).getTime(),n=o-e.intervalTime;[["x","left"],["y","top"]].forEach(function(o){var l,r,s,a,c,p,f=o[0],u=o[1],m=e[f];m.velocity&&(l=n-1,r=l*m.friction,s=r*l/2+m.friction*l/2,a=m.velocity*n-s,a>0?(c=t.scrollValue[u]+a*m.direction,p=i(t,u,c),m.velocity-=m.friction*n,(c!==p||m.velocity<m.friction)&&(m.velocity=0)):m.velocity=0)}),e.intervalTime=o,0===e.x.velocity&&0===e.y.velocity&&s(t)}function s(e){e.timer!==t&&(window.clearInterval(e.timer),delete e.timer)}var a,c,p,f,u,m,y=60,h=.001,v=100,d=[];return e.prototype.initSize=function(){var t=this.elmView.clientWidth,e=this.elmView.clientHeight,i=window.getComputedStyle(this.elmView,""),n=this.elmContent.offsetWidth,l=this.elmContent.offsetHeight,r=window.getComputedStyle(this.elmContent,"");return this.enable?(this.positionMin.left=t-n-parseFloat(i.paddingRight)-parseFloat(r.marginRight),this.positionMax.left=a===o?this.positionOffset.left=parseFloat(i.paddingLeft)+parseFloat(r.marginLeft):parseFloat(i.paddingLeft)+(this.positionOffset.left=parseFloat(r.marginLeft)),this.positionMin.left>this.positionMax.left&&(this.positionMin.left=this.positionMax.left),this.scrollMax.left=this.positionMax.left-this.positionMin.left,this.positionMin.top=e-l-parseFloat(i.paddingBottom)-parseFloat(r.marginBottom),this.positionMax.top=a===o?this.positionOffset.top=parseFloat(i.paddingTop)+parseFloat(r.marginTop):parseFloat(i.paddingTop)+(this.positionOffset.top=parseFloat(r.marginTop)),this.positionMin.top>this.positionMax.top&&(this.positionMin.top=this.positionMax.top),this.scrollMax.top=this.positionMax.top-this.positionMin.top,this):this},e.prototype.scrollLeft=function(t){return i(this,"left",t)},e.prototype.scrollTop=function(t){return i(this,"top",t)},function(){function e(t){return t.substr(0,1).toUpperCase()+t.substr(1)}var i=["webkit","ms","moz","o"],o=[],n=[],l={},r={};i.forEach(function(t){o.push(t),o.push(e(t)),n.push("-"+t+"-")}),u=function(i,n){var r,s;return l[i]===t&&(r=n.style,r[i]!==t?l[i]=i:(s=e(i),o.some(function(e){return r[e+s]!==t?(l[i]=e+s,!0):void 0})||(l[i]=""))),l[i]},m=function(e,i,o,l){function s(t,e){return a[t]=e,a[t]===e}var a=e.style;return r[i]&&r[i][o]!==t?r[i][o]&&(a[i]=r[i][o]):(r[i]=r[i]||{},s(i,o)?r[i][o]=o:n.some(function(t){return s(i,t+o)?(r[i][o]=t+o,!0):void 0})||(r[i][o]=l&&s(i,l)?l:"")),r[i][o]}}(),e.enable="ontouchstart"in window,e.fps=y,e.friction=h,window.addEventListener("resize",function(){e.enable&&d.forEach(function(t){t.enable&&(t.initSize(),i(t,"left",t.scrollValue.left,!0),i(t,"top",t.scrollValue.top,!0))})},!1),e}();