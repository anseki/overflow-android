var OverflowAndroid=function(t){"use strict";function i(t){var o,n,f,y=this;y.elmView=t,i.enable&&Array.prototype.some.call(y.elmView.childNodes,function(t){return 1===t.nodeType?(y.elmContent=t,!0):void 0})&&(h||(h=(v=g("transform",y.elmView))?r:l),h===r?(y.elmContentY=y.elmView.insertBefore(document.createElement("div"),y.elmContent),y.elmContentY.style.margin=y.elmContentY.style.padding="0",y.elmContentY.appendChild(y.elmContent)):("static"===window.getComputedStyle(y.elmView,"").position&&(y.elmView.style.position="relative"),y.elmContent.style.position="absolute"),m||(i.transition&&h===r&&(d=g("transitionProperty",y.elmView))?(M=g("transitionDuration",y.elmView),w=g("transitionTimingFunction",y.elmView),m=a,x=s):(m=c,x=p)),m===a&&[y.elmContent,y.elmContentY].forEach(function(t){["transitionend","webkitTransitionEnd","msTransitionEnd","MozTransitionEnd","oTransitionEnd"].forEach(function(i){t.addEventListener(i,function(t){s(y,t)},!1)}),t.style[d]=v}),y.elmView.style.overflow="hidden",V(y.elmView,"cursor","grab","move"),Object.defineProperty(y.elmView,"scrollLeft",{get:function(){return e(y,"left")},set:function(t){e(y,"left",t)}}),Object.defineProperty(y.elmView,"scrollTop",{get:function(){return e(y,"top")},set:function(t){e(y,"top",t)}}),["scrollValue","scrollMax","positionMin","positionMax","positionOffset","inertia"].forEach(function(t){y[t]={}}),y.enable=!0,y.initSize(),e(y,"left",0),e(y,"top",0),P.push(y),y.hammer=new Hammer.Manager(y.elmView,{recognizers:[[Hammer.Pan,{threshold:3}]]}).on("panstart",function(t){x(y),o={clientX:t.pointers[0].clientX,clientY:t.pointers[0].clientY},n={left:y.scrollValue.left,top:y.scrollValue.top},y.elmView.style.cursor="",V(document.body,"cursor","grabbing","crosshair"),t.preventDefault()}).on("panmove",function(t){e(y,"left",n.left+o.clientX-t.pointers[0].clientX),e(y,"top",n.top+o.clientY-t.pointers[0].clientY),y.inertia={x:{velocity:t.velocityX},y:{velocity:t.velocityY}},f=t.timeStamp,t.preventDefault()}).on("panend",function(t){var e,o=y.inertia;t.timeStamp-f>C&&(o=y.inertia={x:{velocity:t.velocityX},y:{velocity:t.velocityY}}),V(y.elmView,"cursor","grab","move"),document.body.style.cursor="",o.x.direction=o.x.velocity>0?1:-1,o.x.velocity=Math.abs(o.x.velocity),o.y.direction=o.y.velocity>0?1:-1,o.y.velocity=Math.abs(o.y.velocity),o.x.velocity&&o.y.velocity?(e=Math.atan2(o.y.velocity,o.x.velocity),o.x.friction=Math.cos(e)*i.friction,o.y.friction=Math.sin(e)*i.friction):(o.x.friction=o.x.velocity?i.friction:0,o.y.friction=o.y.velocity?i.friction:0),m(y),t.preventDefault()}))}function e(t,i,e,o){return t.enable?("number"==typeof e?0>e?e=0:e>t.scrollMax[i]&&(e=t.scrollMax[i]):e=t.scrollValue[i],(e!==t.scrollValue[i]||o)&&h(t,i,t.scrollValue[i]=e),t.scrollValue[i]):void 0}function o(t,i,e){return t.positionMax[i]-e-t.positionOffset[i]}function n(t,i,e){return t.positionMax[i]-e-t.positionOffset[i]}function r(t,i,e){var n,r;"left"===i?(n=t.elmContent,r="X"):(n=t.elmContentY,r="Y"),n.style[v]="translate"+r+"("+o(t,i,e)+"px)"}function l(t,i,e){t.elmContent.style[i]=o(t,i,e)+"px"}function a(t){var i=t.inertia;[["x","left",t.elmContent,"X"],["y","top",t.elmContentY,"Y"]].forEach(function(e){var n,r,l,a,s,c,f=e[0],p=e[1],h=e[2],m=e[3],x=i[f],d=1;x.velocity&&(n=x.velocity/x.friction,r=x.velocity*n/2+x.friction*n/2,r>0&&(l=t.scrollValue[p]+r*x.direction,s="cubic-bezier(0, 0, "+S.x+", "+S.y+")",(0>l||l>t.scrollMax[p])&&(1===x.direction?(l=t.scrollMax[p],d=(l-t.scrollValue[p])/r):(l=0,d=t.scrollValue[p]/r),a=u(Y,Y,S,T,y(Y,Y,S,T,{x:0,y:d},{x:1,y:d})[0]),a&&(s="cubic-bezier(0, 0, "+a.fromP2.x+", "+a.fromP2.y+")")),c=h.style,c[M]=n*d+"ms",c[w]=s,c[v]="translate"+m+"("+o(t,p,l)+"px)",i.isScrolling=i.isScrolling||{},i.isScrolling[f]=!0))})}function s(t,i){var e=t.inertia;e.isScrolling&&(i?i.propertyName===v&&(i.target===t.elmContent?(e.isScrolling.x=!1,i.stopPropagation()):i.target===t.elmContentY&&(e.isScrolling.y=!1,i.stopPropagation())):e.isScrolling={},e.isScrolling.x||e.isScrolling.y||([["left",t.elmContent,"X",4],["top",t.elmContentY,"Y",5]].forEach(function(i){var e,o=i[0],r=i[1],l=i[2],a=i[3],s=window.getComputedStyle(r,"")[v].match(/(-?[\d\.]+)/g);s&&6===s.length&&(s[a]=+s[a],t.scrollValue[o]=n(t,o,s[a]),e=r.style,e[M]="0s",e[v]="translate"+l+"("+s[a]+"px)")}),delete e.isScrolling))}function c(t){t.inertia.intervalTime=(new Date).getTime(),t.inertia.timer=window.setInterval(function(){f(t)},1e3/i.fps)}function f(t){var i=t.inertia,o=(new Date).getTime(),n=o-i.intervalTime;[["x","left"],["y","top"]].forEach(function(o){var r,l,a,s,c,f,p=o[0],y=o[1],u=i[p];u.velocity&&(r=n-1,l=r*u.friction,a=l*r/2+u.friction*r/2,s=u.velocity*n-a,s>0?(c=t.scrollValue[y]+s*u.direction,f=e(t,y,c),u.velocity-=u.friction*n,(c!==f||u.velocity<u.friction)&&(u.velocity=0)):u.velocity=0)}),i.intervalTime=o,0===i.x.velocity&&0===i.y.velocity&&p(t)}function p(i){i.inertia.timer!==t&&(window.clearInterval(i.inertia.timer),delete i.inertia.timer)}function y(t,i,e,o,n,r){function l(t){function i(t){return 0>t?-1:1}var e,o,n,r,l,a=t[1]/t[0],s=t[2]/t[0],c=t[3]/t[0],f=(3*s-Math.pow(a,2))/9,p=(9*a*s-27*c-2*Math.pow(a,3))/54,y=Math.pow(f,3)+Math.pow(p,2);for(y>=0?(e=i(p+Math.sqrt(y))*Math.pow(Math.abs(p+Math.sqrt(y)),1/3),o=i(p-Math.sqrt(y))*Math.pow(Math.abs(p-Math.sqrt(y)),1/3),n=[-a/3+(e+o),-a/3-(e+o)/2,-a/3-(e+o)/2],0!==Math.abs(Math.sqrt(3)*(e-o)/2)&&(n[1]=n[2]=-1)):(r=Math.acos(p/Math.sqrt(-Math.pow(f,3))),n=[2*Math.sqrt(-f)*Math.cos(r/3)-a/3,2*Math.sqrt(-f)*Math.cos((r+2*Math.PI)/3)-a/3,2*Math.sqrt(-f)*Math.cos((r+4*Math.PI)/3)-a/3]),l=0;2>=l;l++)(n[l]<0||n[l]>1)&&(n[l]=-1);return function(t){var i,e,o,n;do for(i=!1,o=0,n=t.length-1;n>o;o++)(t[o+1]>=0&&t[o]>t[o+1]||t[o]<0&&t[o+1]>=0)&&(e=t[o],t[o]=t[o+1],t[o+1]=e,i=!0);while(i);return t}(n)}function a(t,i,e,o){return[-t+3*i+-3*e+o,3*t-6*i+3*e,-3*t+3*i,t]}var s,c,f=r.y-n.y,p=n.x-r.x;return s=a(t.x,i.x,e.x,o.x),c=a(t.y,i.y,e.y,o.y),l([f*s[0]+p*c[0],f*s[1]+p*c[1],f*s[2]+p*c[2],f*s[3]+p*c[3]+(n.x*(n.y-r.y)+n.y*(r.x-n.x))]).filter(function(t){var i=r.x-n.x!==0?(s[0]*t*t*t+s[1]*t*t+s[2]*t+s[3]-n.x)/(r.x-n.x):(c[0]*t*t*t+c[1]*t*t+c[2]*t+c[3]-n.y)/(r.y-n.y);return t>=0&&1>=t&&i>=0&&1>=i})}function u(t,i,e,o,n){var r=1-n,l=Math.pow(r,3),a=Math.pow(r,2),s=n*n,c=s*n,f=l*t.x+3*a*n*i.x+3*r*n*n*e.x+c*o.x,p=l*t.y+3*a*n*i.y+3*r*n*n*e.y+c*o.y,y=t.x+2*n*(i.x-t.x)+s*(e.x-2*i.x+t.x),u=t.y+2*n*(i.y-t.y)+s*(e.y-2*i.y+t.y),h=i.x+2*n*(e.x-i.x)+s*(o.x-2*e.x+i.x),m=i.y+2*n*(e.y-i.y)+s*(o.y-2*e.y+i.y),x=r*t.x+n*i.x,v=r*t.y+n*i.y,d=r*e.x+n*o.x,M=r*e.y+n*o.y,w=90-180*Math.atan2(y-h,u-m)/Math.PI;return w+=w>180?-180:180,{x:f,y:p,fromP2:{x:y,y:u},toP1:{x:h,y:m},fromP1:{x:x,y:v},toP2:{x:d,y:M},angle:w}}var h,m,x,v,d,M,w,g,V,b=.001,C=100,S={x:.4,y:1},Y={x:0,y:0},T={x:1,y:1},E=60,P=[];return i.prototype.initSize=function(){var t=this.elmView.clientWidth,i=this.elmView.clientHeight,e=window.getComputedStyle(this.elmView,""),o=this.elmContent.offsetWidth,n=this.elmContent.offsetHeight,l=window.getComputedStyle(this.elmContent,"");return this.enable?(this.positionMin.left=t-o-parseFloat(e.paddingRight)-parseFloat(l.marginRight),this.positionMax.left=h===r?this.positionOffset.left=parseFloat(e.paddingLeft)+parseFloat(l.marginLeft):parseFloat(e.paddingLeft)+(this.positionOffset.left=parseFloat(l.marginLeft)),this.positionMin.left>this.positionMax.left&&(this.positionMin.left=this.positionMax.left),this.scrollMax.left=this.positionMax.left-this.positionMin.left,this.positionMin.top=i-n-parseFloat(e.paddingBottom)-parseFloat(l.marginBottom),this.positionMax.top=h===r?this.positionOffset.top=parseFloat(e.paddingTop)+parseFloat(l.marginTop):parseFloat(e.paddingTop)+(this.positionOffset.top=parseFloat(l.marginTop)),this.positionMin.top>this.positionMax.top&&(this.positionMin.top=this.positionMax.top),this.scrollMax.top=this.positionMax.top-this.positionMin.top,this):this},i.prototype.scrollLeft=function(t){return e(this,"left",t)},i.prototype.scrollTop=function(t){return e(this,"top",t)},function(){function i(t){return t.substr(0,1).toUpperCase()+t.substr(1)}var e=["webkit","ms","moz","o"],o=[],n=[],r={},l={};e.forEach(function(t){o.push(t),o.push(i(t)),n.push("-"+t+"-")}),g=function(e,n){var l,a;return r[e]===t&&(l=n.style,l[e]!==t?r[e]=e:(a=i(e),o.some(function(i){return l[i+a]!==t?(r[e]=i+a,!0):void 0})||(r[e]=""))),r[e]},V=function(i,e,o,r){function a(t,i){return s[t]=i,s[t]===i}var s=i.style;return l[e]&&l[e][o]!==t?l[e][o]&&(s[e]=l[e][o]):(l[e]=l[e]||{},a(e,o)?l[e][o]=o:n.some(function(t){return a(e,t+o)?(l[e][o]=t+o,!0):void 0})||(l[e][o]=r&&a(e,r)?r:"")),l[e][o]}}(),i.enable="ontouchstart"in window,i.friction=b,i.transition=!0,i.fps=E,window.addEventListener("resize",function(){i.enable&&P.forEach(function(t){t.enable&&(t.initSize(),e(t,"left",t.scrollValue.left,!0),e(t,"top",t.scrollValue.top,!0))})},!1),i}();